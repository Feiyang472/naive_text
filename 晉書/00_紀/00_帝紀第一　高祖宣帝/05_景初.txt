景初二年，帥牛金、胡遵等步騎四萬，發自京都。車駕送出西明門，詔弟孚、子師送過溫，賜以穀帛牛酒，敕郡守典農以下皆往會焉。見父老故舊，讌飲累日。帝歎息，悵然有感，為歌曰：「天地開闢，日月重光。遭遇際會，畢力遐方。將掃羣穢，還過故鄉。肅清萬里，總齊八荒。告成歸老，待罪舞陽。」遂進師，經孤竹，越碣石，次于遼水。文懿果遣步騎數萬，阻遼隧，堅壁而守，南北六七十里，以距帝。帝盛兵多張旗幟出其南，賊盡銳赴之。乃泛舟潛濟以出其北，與賊營相逼，沈舟焚梁，傍遼水作長圍，棄賊而向襄平。諸將言曰：「不攻賊而作圍，非所以示眾也。」帝曰：「賊堅營高壘，欲以老吾兵也。攻之，正入其計，此王邑所以恥過昆陽也。古人曰，敵雖高壘，不得不與我戰者，攻其所必救也。賊大眾在此，則巢窟虛矣。我直指襄平，則人懷內懼，懼而求戰，破之必矣。」遂整陣而過。賊見兵出其後，果邀之。帝謂諸將曰：「所以不攻其營，正欲致此，不可失也。」乃縱兵逆擊，大破之，三戰皆捷。賊保襄平，進軍圍之。
初，文懿聞魏師之出也，請救於孫權。權亦出兵遙為之聲援，遺文懿書曰：「司馬公善用兵，變化若神，所向無前，深為弟憂之。」
會霖潦，大水平地數尺，三軍恐，欲移營。帝令軍中敢有言徙者斬。都督令史張靜犯令，斬之，軍中乃定。賊恃水，樵牧自若。諸將欲取之，皆不聽。司馬陳珪曰：「昔攻上庸，八部並進，晝夜不息，故能一旬之半，拔堅城，斬孟達。今者遠來而更安緩，愚竊惑焉。」帝曰：「孟達眾少而食支一年，吾將士四倍于達而糧不淹月，以一月圖一年，安可不速？以四擊一，正令半解，猶當為之。是以不計死傷，與糧競也。今賊眾我寡，賊飢我飽，水雨乃爾，功力不設，雖當促之，亦何所為。自發京師，不憂賊攻，但恐賊走。今賊糧垂盡，而圍落未合，掠其牛馬，抄其樵采，此故驅之走也。夫兵者詭道，善因事變。賊憑眾恃雨，故雖飢困，未肯束手，當示無能以安之。取小利以驚之。非計也。」朝廷聞師遇雨，咸請召還。天子曰：「司馬公臨危制變，計日擒之矣。」既而雨止，遂合圍。起土山地道，楯櫓鉤橦，發矢石雨下，晝夜攻之。
時有長星，色白，有芒鬣，自襄平城西南流于東北，墜於梁水，城中震慴。文懿大懼，乃使其所署相國王建、御史大夫柳甫乞降，請解圍面縛。不許，執建等，皆斬之。檄告文懿曰：「昔楚鄭列國，而鄭伯猶肉袒牽羊而迎之。孤為王人，位則上公，而建等欲孤解圍退舍，豈楚鄭之謂邪！二人老耄，必傳言失旨，已相為斬之。若意有未已，可更遣年少有明決者來。」文懿復遣侍中衞演乞剋日送任。帝謂演曰：「軍事大要有五，能戰當戰，不能戰當守，不能守當走，餘二事惟有降與死耳。汝不肯面縛，此為決就死也，不須送任。」文懿攻南圍突出，帝縱兵擊敗之，斬于梁水之上星墜之所。既入城，立兩標以別新舊焉。男子年十五已上七千餘人皆殺之，以為京觀。偽公卿已下皆伏誅，戮其將軍畢盛等二千餘人。收戶四萬，口三十餘萬。
初，文懿篡其叔父恭位而囚之。及將反，將軍綸直、賈範等苦諫，文懿皆殺之。帝乃釋恭之囚，封直等之墓，顯其遺嗣。令曰：「古之伐國，誅其鯨鯢而已，諸為文懿所詿誤者，皆原之。中國人欲還舊鄉，恣聽之。」
時有兵士寒凍，乞襦，帝弗之與。或曰：「幸多故襦，可以賜之。」帝曰：「襦者官物，人臣無私施也。」乃奏軍人年六十已上者罷遣千餘人，將吏從軍死亡者致喪還家。遂班師。天子遣使者勞軍于薊，增封食昆陽，并前二縣。
初，帝至襄平，夢天子枕其膝，曰：「視吾面。」俛視有異於常，心惡之。先是，詔帝便道鎮關中；及次白屋，有詔召帝，三日之間，詔書五至。手詔曰：「間側息望到，到便直排閤入，視吾面。」帝大遽，乃乘追鋒車晝夜兼行，自白屋四百餘里，一宿而至。引入嘉福殿臥內，升御牀。帝流涕問疾，天子執帝手，目齊王曰：「以後事相託。死乃復可忍，吾忍死待君，得相見，無所復恨矣。」與大將軍曹爽並受遺詔輔少主。
及齊王即帝位，遷侍中、持節、都督中外諸軍、錄尚書事，與爽各統兵三千人，共執朝政，更直殿中，乘輿入殿。爽欲使尚書奏事先由己，乃言於天子，徙帝為大司馬。朝議以為前後大司馬累薨於位，乃以帝為太傅，入殿不趨，贊拜不名，劍履上殿，如漢蕭何故事。嫁娶喪葬取給於官，以世子師為散騎常侍，子弟三人為列侯，四人為騎都尉。帝固讓子弟官不受。